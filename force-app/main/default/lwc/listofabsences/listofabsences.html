<template>
       <!--With onselect handler-->
       <lightning-card
       variant="Narrow"
       title="List of Absences"
    
   >
           <!-- Spinner -->
         <div if:true={showLoadingSpinner}>
              <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
           </div>
         
    
                  
        <div class="slds-m-around_medium">

            <lightning-datatable key-field="Id"  
                                 data={data}  
                                 columns={columns}  
                                 hide-checkbox-column="true"  
                                   
                                 onrowaction={handleRowAction}>  
            </lightning-datatable>  
            </div>
            
        
            <!-- error part-->
            <div if:true={error}>
                <p>{error}</p>
           </div>
           <div class="slds-m-bottom_small">
          
            <!--data part-->
             <!-- Data table  -->
     <lightning-layout horizontal-align="space">
         <lightning-layout-item flexibility="auto">
             <lightning-button label="Previous" icon-name="utility:chevronleft" onclick={previousHandler} variant="brand">
                 </lightning-button>
                 </lightning-layout-item>
            
             <lightning-layout-item flexibility="auto">
              <span class="slds-badge slds-badge_lightest"
              style="margin-right:96px;">
               Page {page} out of {totalPage}
            </span>
                 <lightning-button label="Next" icon-name="utility:chevronright" icon-position="right"
                         onclick={nextHandler} variant="brand"></lightning-button>
                 </lightning-layout-item>
             </lightning-layout>
             </div>
                 
          </lightning-card>  
           <!-- modal start -->   
   <div>
    <template if:true={showModal}>
      <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
        aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
        <div class="slds-modal__container">
          <!-- modal header -->
          <header class="slds-modal__header">
            <lightning-button-icon icon-name="utility:close" class="slds-float_right" onclick={closeModal}
              alternative-text="close"></lightning-button-icon>
            <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Absence Detail</h2>
          </header>
          <!-- modal content -->
          <div class="acc-container">
            <lightning-record-view-form record-id={recordId} object-api-name="Absence__c">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-output-field field-name="Name"></lightning-output-field>
                        <lightning-output-field field-name="StartDate__c"></lightning-output-field>
                        <lightning-output-field field-name=" endDate__c"></lightning-output-field>
                        <lightning-output-field field-name=" Workdays__c"></lightning-output-field> 
                        <lightning-output-field field-name=" approval__c"></lightning-output-field>
                        </div> 
                        <div class="slds-col slds-size_1-of-2"></div>
                        <lightning-output-field field-name=" Reason__c"></lightning-output-field>
                        <lightning-output-field field-name="  Certificate__c"></lightning-output-field>
                        <lightning-output-field field-name=" DangerToEmployees__c "></lightning-output-field>
                        <lightning-output-field field-name=" AbsenceManager__c "></lightning-output-field>
                        
                        
                    </div>
            </lightning-record-view-form>
          </div>
          <!-- modal footer -->
          <footer class="slds-modal__footer">
           <lightning-button variant="neutral" label="Close" title="Close" onclick={closeModal}
              class="slds-m-left_x-small">
             </lightning-button>
          </footer>
        </div>
      </section>
    </template>
   </div>     
 <!-- modal end -->
       
</template>

<!-- <lightning-layout-item flexibility="auto">
               
                    <lightning-button-group>
                        <template for:each={pagelinks} for:item="pageNo">
                        <lightning-button
                            key={pageNo}
                            label={pageNo}
                            onclick={handlePage}
                            disable={isButtonDisabled}
                        ></lightning-button>
                        </template>
                    </lightning-button-group>
                
             </lightning-layout-item> -->